<odoo>
    <template id="sale_report_inherit" inherit_id="sale.report_saleorder_document">
        <xpath expr="//div[@name='so_total_summary']" position="after">
             <div id="imei_details" style="page-break-before: always;">
                <div >
                    <strong>IMEI List:</strong>
                    <t t-foreach="doc.order_line" t-as="line">
	                    <table style="border: 1px solid black; border-collapse: collapse; width:100%;">
	                            <tr style="border: 1px solid black; border-collapse: collapse;">
	                                <td colspan="3" style="border: 1px solid black; border-collapse: collapse;text-align:center;"><span t-field="line.name"/></td>
	                            </tr>
	                            <t t-set="record_collection" t-value="doc.get_data()"/>
	                            <t t-set="col_count" t-value="0"/>
	                            <t t-set="col1_imei" t-value=""/>
	                            <t t-set="col2_imei" t-value=""/>
	                            <t t-set="col3_imei" t-value=""/>
	                           
	                            <t t-foreach="record_collection" t-as="rc">
	                            	<t t-set="col_count" t-value="col_count+1"/>
	                            	<t t-if="col_count==1">
	                            		<t t-set="col1_imei" t-value="rc"/>
	                            	</t>
	                            	<t t-if="col_count==2">
	                            		<t t-set="col2_imei" t-value="rc"/>
	                            	</t>
	                            	<t t-if="col_count==3">
	                            		<t t-set="col3_imei" t-value="rc"/>
	                            		<tr style="border: 1px solid black; border-collapse: collapse;">
	                            
		                            	    <td style="border: 1px solid black; border-collapse: collapse;width:30%;text-align:center;">
		                            	    	<span t-esc="col1_imei"/>
		                            		</td>
		                            		<td style="border: 1px solid black; border-collapse: collapse;width:30%;text-align:center;">
		                            	    	<span t-esc="col2_imei"/>
		                            		</td>
		                            		<td style="border: 1px solid black; border-collapse: collapse;width:30%;text-align:center;">
		                            	    	<span t-esc="col3_imei"/>
		                            		</td>
	                            	    
                            	    	</tr>
                            	    	<t t-set="col1_imei" t-value=""/>
	                            		<t t-set="col2_imei" t-value=""/>
	                            		<t t-set="col3_imei" t-value=""/>
                            	    	<t t-set="col_count" t-value="0"/>
                            		</t>
	                            	 
	                            </t>
	                            <t t-if="col_count!=0">
      
                            		<tr style="border: 1px solid black; border-collapse: collapse;">
                            
	                            	    <td style="border: 1px solid black; border-collapse: collapse;width:30%;text-align:center;">
	                            	    	<span t-esc="col1_imei"/>
	                            		</td>
	                            		<td style="border: 1px solid black; border-collapse: collapse;width:30%;text-align:center;">
	                            	    	<span t-esc="col2_imei"/>
	                            		</td>
	                            		<td style="border: 1px solid black; border-collapse: collapse;width:30%;text-align:center;">
	                            	    	<span t-esc="col3_imei"/>
	                            		</td>
                            	    
                        	    	</tr>
                        	    </t>
	                        </table>
	              
	                    </t>
                </div>
             </div>
        </xpath>
    </template>
</odoo>